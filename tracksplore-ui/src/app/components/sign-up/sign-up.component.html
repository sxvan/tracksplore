<main class="form">
    <h1 class="title">Create your Account</h1>
    <form [formGroup]="signUpForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
            <div class="form-field">
                <label class="form-control">Spotify Account</label>
                <p *ngIf="account$ | async as account">{{ account.display_name }}</p>
            </div>
            <div class="form-field flex-bottom link-spotify">
                <button class="form-button" (click)="redirectToSpotifyAuthorization()">Link Spotify</button>
            </div>
        </div>
        <div class="form-field">
            <label class="form-control">Display Name</label>
            <input type="text" formControlName="displayName" class="form-control" />
            <div class="validation">    
                <span class="validation-error" *ngIf="displayName?.touched && displayName?.errors?.['required']">Please enter a display name. </span>
                <span class="validation-error" *ngIf="displayName?.touched && displayName?.errors?.['maxlength']">The display name cannot be that long. </span>
                <span class="validation-error" *ngIf="displayName?.touched && displayName?.errors?.['minlength']">The display name cannot be that short. </span>
            </div>
        </div>
        <div class="form-field">
            <label class="form-control">Gender</label>
            <select formControlName="gender" class="form-control">
                <option value="-1" disabled>Select your gender</option>
                <option value="1">Male</option>
                <option value="2">Female</option>
                <option value="3">Other</option>
            </select>
            <div class="validation">    
                <span class="validation-error" *ngIf="gender?.touched && gender?.errors?.['min']">Please select your gender. </span>
            </div>
        </div>
        <div class="form-field">
            <label class="form-control">Email</label>
            <input type="email" formControlName="email" class="form-control" />
            <div class="validation">
                <span class="validation-error" *ngIf="email?.touched && email?.errors?.['required']">Please enter an email. </span>
                <span class="validation-error" *ngIf="email?.touched && email?.errors?.['maxlength']">The email name cannot be that long. </span>
                <span class="validation-error" *ngIf="email?.touched && email?.errors?.['email']">Please enter a valid email. </span>
            </div>
        </div>
        <div class="form-field">
            <label class="form-control">Birthdate</label>
            <input type="date" formControlName="birthdate" class="form-control" />
            <div class="validation">
                <span class="validation-error" *ngIf="birthdate?.touched && birthdate?.errors?.['required']">Please enter your birthdate. </span>
                <span class="validation-error" *ngIf="birthdate?.touched && birthdate?.errors?.['max']">The birthdate cannot be in the future. </span>
            </div>
        </div>
        <div class="form-group">
            <div class="form-field">
                <label class="form-control">Password</label>
                <input type="password" formControlName="password" class="form-control" autocomplete="new-password" />
                <div class="validation">
                    <span class="validation-error" *ngIf="password?.touched && password?.errors?.['required']">Please choose your password. </span>
                </div>
            </div>
            <div class="form-field">
                <label class="form-control">Confirm Password</label>
                <input type="password" formControlName="confirmPassword" class="form-control" autocomplete="new-password" />
                <div class="validation">
                    <span class="validation-error" *ngIf="confirmPassword?.touched && confirmPassword?.errors?.['required']">Please confirm your password. </span>
                    <span class="validation-error" *ngIf="confirmPassword?.touched && confirmPassword?.errors?.['passwordMismatch']">The password does not match. </span>
                </div>
            </div>
        </div>
        <div class="form-actions">
            <button type="submit" class="form-button">Create Account</button>
        </div>
    </form>
</main>